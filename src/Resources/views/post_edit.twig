{% extends "skeleton.twig" %}

{% block extend_head %}
    <style type="text/css">

    </style>
{% endblock %}

{% block title %} {{ h1 }} {% endblock %}

{% block content %}
    <div id="post_edit">
        <form id="edit_post_form" method="POST" action="">
            <div class="col_6">
                <div class="input_container">
                    <label>Title*</label>
                    <input class="form_input" type="text" name="title" placeholder="Title" value="{{ post.title }}" required />
                </div>

                <div class="input_container">
                    <label>Ingress*</label>
                    <input class="form_input" type="text" name="ingress" placeholder="Ingress" value="{{ post.ingress }}" required />
                </div>

                <div class="input_container">
                    <label>Text*</label>
                    <textarea class="form_input" name="content" required id="ck_editor">{{ post.content }}</textarea>
                </div>

                <div class="input_container">
                    <label>Deadline*</label>
                    <input class="form_input" type="date" name="deadline" placeholder="Deadline" value="{{ post.deadline }}" required id="datepicker" autocomplete="off" />
                </div>

                <div class="input_container">
                    <label>E-mail*</label>
                    <input class="form_input" type="text" name="email" placeholder="E-mail" value="{{ post.email }}" required />
                </div>

                <div class="input_container">
                    <label>Telefon*</label>
                    <input class="form_input" type="text" name="phone" placeholder="Telefon" value="{{ post.phone }}" required />
                </div>
            </div>
            <div class="col_6">
                <div class="input_container">
                    <input class="form_input" type="hidden" name="id" value="{{ post.id }}" required />
                    <div class="btn js-btn" data-task='Post.edit'>Spara</div>
                </div>
                <div class="image_container">
                    <div id="image_upload_container">
                        <input type="file" name="images" id="image_uploader" accept="image/png, image/jpeg" multiple />
                    </div>
                    <div id="image_list">
                        {% for image in post.images %}
                            <div class='image_item'>
                                <div class='image'><img src='{{ image.url }}' alt='{{ image.nice_name }}' /></div>
                                <input class='form_input' type='hidden' name='images[]' value='{{ image.id }}' />
                                <div class='btn_list link_btn js-btn' data-task='Media.remove'>Ta bort</div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </form>
    </div>
{% endblock %}